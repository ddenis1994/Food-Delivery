<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'">
    <meta charset="UTF-8">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/Add_Worker.css') }}">
    <script type = "text/javascript" src = "{{ url_for('static', filename = 'JavaScript/Add_worker.js') }}" ></script>
    <title>Add worker</title>

</head>

<body>
<div class="container">
<h1> Workers</h1>
<div class="center">
    <table id="workersTable" >
        <thead >
            <tr>
                  {%for key in workers.items() %}
                <td>
                    <input type="text" id="filtrInput" name="{{ key }}" onkeyup="filter{{ key }}()" placeholder="Search for {{ key }}.." >
                </td>
                {% endfor %}
            </tr>
            <tr>
                  {%for key,v in workers.items()%}
                <td>
                    <a> {{key}}</a>
                </td>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {%for worker in workers%}
                <tr>
                    {%for value in worker%}
                        <td>{{value}}</td>
                    {% endfor %}

                <td>
                    <input type="button" value="change worker">
                </td>
                    <td>
                    <input type="button" value="remove worker">
                </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>



        <input id="crf"  type="hidden" disabled value={{hash}}>
        </br>
        <input type="button" value="Add worker" onclick="add()" >
        <div id="snackbar"></div>
    </div>
</div>


<script>
    {%for key,value in workers.items()%}
function filter{{ key }}() {
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementsByName("{{key}}");
  filter = input.value.toUpperCase();
  table = document.getElementById("workersTable");
  tr = table. ("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      txtValue = td.textContent || td.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
    {% endfor %}
</script>

</body>
</html>